<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="/res/boopbox.css" />
	</head>
	<body>
		<div id="commands">
			<a href="javascript:document.documentElement.requestFullscreen();">Fs</a>
			<a href="javascript:document.getElementById('wolf').setAttribute('disabled', 'true');">Wolf hide</a>
			<a href="javascript:document.getElementById('wolf').removeAttribute('disabled');">Wolf show</a>
			<a href="javascript:document.getElementById('tiger').setAttribute('disabled', 'true');">Tiger hide</a>
			<a href="javascript:document.getElementById('tiger').removeAttribute('disabled');">Tiger show</a>
			<a href="javascript:document.getElementById('msgbox').removeAttribute('disabled');">Chatbox show</a>
			<a href="javascript:document.getElementById('msgbox').setAttribute('disabled', 'true');">Chatbox hide</a>
			<span id="debug">Debug command</span>
		</div>
	
		<!--<div id="error">
			<p>An unrecoverable error has happened. Please call foxo.</p>
		</div>-->
	
		<!--<div id="border"></div>-->
		<div id="main">
			<img class="char bye" id="wolf" src="/res/wolf.png" disabled="true" />
			<img class="char bye" id="tiger" src="/res/tiger.png" disabled="true" />
			
			<div id="msgbox" class="bye" disabled><span id="msgcontent"></span><span id="touch" disabled>(touch the screen to continue <img src="/res/touch.svg" />)</span></div>

			<div id="events" class="welcome-back">
				<div id="eventsbox">
					<h1 style="margin-top:7em;display:none;" id="nothing-happening">It looks like nothing is happening now~<br />_-¯¯-¯_<br />See you later :)</h1>
				</div>
				<h1>See more events with our app!</h1>
				
			</div>
			
			<video id="tv" autoplay muted playsinline controls="false" poster="/res/tv.jpg" class="welcome-back">
				<!-- <source id="video-source" src="http://192.168.32.189:8000/tron.webm" type="video/mp4"> -->
			</video>

			<script>
				var video = document.getElementById('tv');
				var source = document.getElementById('video-source');

				video.controls = false; // Ensure controls are hidden

				video.addEventListener('error', function() {
					video.style.display = 'none';
				});

				function playVideo() {
					var cachebuster = Date.now(); // Generate a unique timestamp
					var videoUrl = 'http://192.168.32.189:8000/tron.webm?cachebuster=' + cachebuster;
					source.src = videoUrl;

					video.load();
					video.play().catch(function() {
						fallbackImage.style.display = 'block'; // Show fallback image on playback failure
					});
				}

				playVideo();
			</script>

			<div id="column" class="welcome-back">
				<h1>Useful Info</h1>
				<h2>CALL SECURITY</h2>
				<p>Dial (+39) 375 732 4734</p>
				<hr />
				<h2>Reception Open</h2>
				<p>Every day 8:00~19:00</p>
				<hr />
				<h2>NFC issues?</h2>
				<p>Search for Foxo (Badge ID 3) or write to @unfoxo on Telegram</p>
				<hr />
				<h2 id="clock"></h2>
			</div>
			
			<div id="nfcstat" class="welcome-back" disabled>Dealer's Den <img src="/res/icons/nfc.svg" /></div>
		</div>
		
		<script type="text/javascript" src="/res/boopbox.js"></script>
	</body>
</html>
